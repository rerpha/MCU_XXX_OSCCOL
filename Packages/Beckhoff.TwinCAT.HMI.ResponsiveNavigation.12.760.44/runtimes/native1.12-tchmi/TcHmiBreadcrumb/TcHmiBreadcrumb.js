var TcHmi,__classPrivateFieldGet=this&&this.__classPrivateFieldGet||function(receiver,state,kind,f){if("a"===kind&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===kind?f:"a"===kind?f.call(receiver):f?f.value:state.get(receiver)};!function(TcHmi){!function(Controls){!function(ResponsiveNavigation){var _a,_TcHmiBreadcrumb_tchmiFQN;class TcHmiBreadcrumb extends TcHmi.Controls.System.TcHmiControl{constructor(element,pcElement,attrs){super(element,pcElement,attrs),this.__onResolverForFontColorWatchCallback=data=>{!1===this.__isAttached&&this.__suspendObjectResolver("fontColor"),data.error===TcHmi.Errors.NONE?tchmi_equal(data.value,this.__fontColor)||(this.__fontColor=data.value,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"FontColor"}),this.__processFontColor()):TCHMI_CONSOLE_LOG_LEVEL>=1&&TcHmi.Log.errorEx("[Source=Control, Module="+this.__type+(__classPrivateFieldGet(TcHmiBreadcrumb,_a,"f",_TcHmiBreadcrumb_tchmiFQN)!==this.__type?", Origin="+__classPrivateFieldGet(TcHmiBreadcrumb,_a,"f",_TcHmiBreadcrumb_tchmiFQN):"")+", Id="+this.getId()+", Attribute=FontColor] Resolving symbols from object failed with error: "+TcHmi.Log.buildMessage(data.details))},this.__onResolverForPathWatchCallback=data=>{!1===this.__isAttached&&this.__suspendObjectResolver("path"),data.error===TcHmi.Errors.NONE?tchmi_equal(data.value,this.__path)||(this.__path=data.value,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Path"}),this.__processPath()):TCHMI_CONSOLE_LOG_LEVEL>=1&&TcHmi.Log.errorEx("[Source=Control, Module="+this.__type+(__classPrivateFieldGet(TcHmiBreadcrumb,_a,"f",_TcHmiBreadcrumb_tchmiFQN)!==this.__type?", Origin="+__classPrivateFieldGet(TcHmiBreadcrumb,_a,"f",_TcHmiBreadcrumb_tchmiFQN):"")+", Id="+this.getId()+", Attribute=Path] Resolving symbols from object failed with error: "+TcHmi.Log.buildMessage(data.details))}}__previnit(){if(this.__elementTemplateRoot=this.__element.find(".TcHmi_Controls_ResponsiveNavigation_TcHmiBreadcrumb-Template"),this.__elementPathDisplayContainer=this.__elementTemplateRoot.find(".tchmi-bread-crumb-control-container"),this.__elementSubContainer=this.__elementPathDisplayContainer[0].getElementsByClassName("tchmi-bread-crumb-control-sub-container")[0],!this.__elementTemplateRoot||!this.__elementPathDisplayContainer||!this.__elementSubContainer)throw new Error("Invalid Template.html");super.__previnit()}__init(){super.__init()}__attach(){super.__attach(),this.__showStartPageOnStartPage&&0===this.__elementSubContainer.children.length&&this.__showStartPage()}__detach(){super.__detach()}destroy(){this.__keepAlive||super.destroy()}__clearAll(){for(;this.__elementSubContainer.firstChild;)this.__elementSubContainer.removeChild(this.__elementSubContainer.firstChild);this.__lastPathObject=null,this.__path=null}clearDisplay(){this.__clearAll(),this.__showStartPageOnStartPage&&this.__showStartPage()}setMasterID(valueNew){let convertedValue=TcHmi.ValueConverter.toString(valueNew);if(null===convertedValue)return;if(convertedValue===this.__masterID)return;this.__masterID=convertedValue;let masterCtrl=TcHmi.Controls.get(this.__masterID);masterCtrl&&(this.__masterControl=masterCtrl)}__callOnPageCalled(eventName,dataId,page){this.__masterControl&&this.__masterControl.raiseOnPageCalled(eventName,dataId,page)}__showStartPage(){if(!this.__isAttached)return;this.__setContainerAlignment(this.__elementSubContainer);let startPageContainer=this.__addStartPage(!0);this.__elementSubContainer.append(startPageContainer)}__setContainerAlignment(container){switch(this.__textVerticalAlignment){case"Top":default:container.style.verticalAlign="top";break;case"Center":container.style.verticalAlign="middle";break;case"Bottom":container.style.verticalAlign="bottom"}}showPath(pathObject){if(tchmi_equal(this.__path,pathObject)||(this.__path=pathObject,this.__path||(this.__path=null),TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Path"})),null==pathObject)return;if(this.__clearAll(),this.__setContainerAlignment(this.__elementSubContainer),this.__startPageVisible){let startPageContainer=this.__addStartPage(!1);this.__elementSubContainer.append(startPageContainer)}this.__lastPathObject=pathObject;let operateAccess=TcHmi.Access.checkAccess(this,"operate");for(let i=0;i<pathObject.length;i++){if(!pathObject[i])continue;if(!pathObject[i].name)continue;let pathContainer=document.createElement("a");if(pathContainer.classList.add("tchmi-bread-crumb-control-nav-link"),operateAccess||pathContainer.classList.add("non-operate"),void 0!==this.__fontSize&&null!==this.__fontSize&&void 0!==this.__fontSizeUnit&&null!==this.__fontSizeUnit&&(pathContainer.style.fontSize=this.__fontSize+this.__fontSizeUnit),this.__fontColor){let color=this.__getColorOfColorObject(this.__fontColor);pathContainer.style.color=color??""}if(pathContainer.append(pathObject[i].name),void 0!==pathObject[i].event&&null!==pathObject[i].event&&pathContainer.setAttribute("data-event-parameter",pathObject[i].event),void 0!==pathObject[i].page&&null!==pathObject[i].page&&pathContainer.setAttribute("data-event-page",pathObject[i].page),void 0!==pathObject[i].data&&null!==pathObject[i].data&&pathContainer.setAttribute("data-id",pathObject[i].data),pathObject[i].clickable)if(i!==pathObject.length-1||i===pathObject.length-1&&this.__lastPageClickable){if(i!==pathObject.length-1){let spacer=document.createElement("i");spacer.classList.add("tchmi-bread-crumb-control-right-arrow"),this.__spacerImage?spacer.style.backgroundImage="url("+this.__spacerImage+")":spacer.style.backgroundImage="",pathContainer.append(spacer)}let __this=this;pathContainer.onclick=function(){if(!__this.getIsEnabled())return;if(!0!==TcHmi.Access.checkAccess(__this,"operate"))return;let eventParameter=pathContainer.getAttribute("data-event-parameter"),id=pathContainer.getAttribute("data-id"),eventPage=pathContainer.getAttribute("data-event-page");__this.__callOnPageCalled(eventParameter??"",id??"",eventPage??"")}}else pathContainer.classList.add("non-clickable");else{if(i!==pathObject.length-1){let spacer=document.createElement("i");spacer.classList.add("tchmi-bread-crumb-control-right-arrow"),this.__spacerImage?spacer.style.backgroundImage="url("+this.__spacerImage+")":spacer.style.backgroundImage="",pathContainer.append(spacer)}pathContainer.classList.add("non-clickable")}this.__elementSubContainer.append(pathContainer)}}__addStartPage(bStandAlone){let pathContainer=document.createElement("a");if(pathContainer.classList.add("tchmi-bread-crumb-control-nav-link","tchmi-bread-crumb-control-start-page"),TcHmi.Access.checkAccess(this,"operate")||pathContainer.classList.add("non-operate"),this.__fontSize&&this.__fontSizeUnit&&(pathContainer.style.fontSize=this.__fontSize+this.__fontSizeUnit),this.__fontColor){let color=this.__getColorOfColorObject(this.__fontColor);pathContainer.style.fontSize=color??""}if(this.__startPageImagePath){let startPageImage=document.createElement("i");startPageImage.classList.add("tchmi-bread-crumb-control-image"),startPageImage.style.backgroundImage="url("+this.__startPageImagePath+")",pathContainer.append(startPageImage)}else if(this.__showDefaultStartPage){let startPageImage=document.createElement("i");startPageImage.classList.add("tchmi-bread-crumb-control-image"),startPageImage.style.backgroundImage="",pathContainer.append(startPageImage)}let __this=this;if(pathContainer.onclick=function(){__this.getIsEnabled()&&!0===TcHmi.Access.checkAccess(__this,"operate")&&__this.__callOnPageCalled(null,null,void 0!==__this.__startPage?__this.__startPage:null)},this.__startPageText){let startTextElement=document.createElement("a");startTextElement.textContent=this.__startPageText,startTextElement.classList.add("tchmi-bread-crumb-control-start-page-text"),this.__startPageImagePath&&(startTextElement.style.marginLeft="5px"),pathContainer.append(startTextElement)}if(!bStandAlone){let spacer=document.createElement("i");spacer.classList.add("tchmi-bread-crumb-control-right-arrow"),this.__spacerImage?spacer.style.backgroundImage="url("+this.__spacerImage+")":spacer.style.backgroundImage="",pathContainer.append(spacer)}return pathContainer}__getColorOfColorObject(colorObject){return colorObject&&null!==colorObject.color&&void 0!==colorObject.color?"None"===colorObject.color?"rgba(0,0,0,0)":TcHmi.ValueConverter.toString(colorObject.color):"rgba(0,0,0,0)"}__rgb2hex(rgb){if(/^#[0-9A-F]{6}$/i.test(rgb))return rgb;let out=rgb.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return out&&4===out.length?"#"+("0"+parseInt(out[1],10).toString(16)).slice(-2)+("0"+parseInt(out[2],10).toString(16)).slice(-2)+("0"+parseInt(out[3],10).toString(16)).slice(-2):""}setLastPageClickable(valueNew){let convertedValue=TcHmi.ValueConverter.toBoolean(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("LastPageClickable")),convertedValue!==this.__lastPageClickable&&(this.__lastPageClickable=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"LastPageClickable"}),this.__processLastPageClickable())}getLastPageClickable(){return this.__lastPageClickable}__processLastPageClickable(){if(!this.__attributesInitialized)return;let lastChild=this.__elementSubContainer.lastElementChild;if(lastChild)if(this.__lastPageClickable&&lastChild.classList.contains("non-clickable")&&!lastChild.classList.contains("tchmi-bread-crumb-control-start-page")){lastChild.classList.remove("non-clickable");let __this=this;lastChild.onclick=function(){if(!__this.getIsEnabled())return;if(!0!==TcHmi.Access.checkAccess(__this,"operate"))return;let eventParameter=lastChild.getAttribute("data-event-parameter"),id=lastChild.getAttribute("data-id"),eventPage=lastChild.getAttribute("data-event-page");__this.__callOnPageCalled(eventParameter??"",id??"",eventPage??"")}}else this.__lastPageClickable||lastChild.classList.contains("tchmi-bread-crumb-control-start-page")||(lastChild.onclick=null,lastChild.classList.add("non-clickable"))}setStartPageVisible(valueNew){let convertedValue=TcHmi.ValueConverter.toBoolean(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("StartPageVisible")),convertedValue!==this.__startPageVisible&&(this.__startPageVisible=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"StartPageVisible"}),this.__processStartPageVisible())}getStartPageVisible(){return this.__startPageVisible}__processStartPageVisible(){if(!this.__attributesInitialized)return;let startPageContainer=this.__elementPathDisplayContainer?.[0].getElementsByClassName("tchmi-bread-crumb-control-start-page")[0];if(this.__startPageVisible&&!startPageContainer)if(this.__elementSubContainer.children?.length){let startPage=this.__addStartPage(!1);this.__elementSubContainer.insertBefore(startPage[0],this.__elementSubContainer.firstChild)}else this.__showStartPage();else!this.__startPageVisible&&startPageContainer&&this.__elementSubContainer.removeChild(startPageContainer)}setShowStartPageOnStartPage(valueNew){let convertedValue=TcHmi.ValueConverter.toBoolean(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("ShowStartPageOnStartPage")),convertedValue!==this.__showStartPageOnStartPage&&(this.__showStartPageOnStartPage=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ShowStartPageOnStartPage"}),this.__processShowStartPageOnStartPage())}getShowStartPageOnStartPage(){return this.__showStartPageOnStartPage}__processShowStartPageOnStartPage(){if(!this.__attributesInitialized)return;let startPageContainer=this.__elementPathDisplayContainer?.[0].getElementsByClassName("tchmi-bread-crumb-control-start-page")[0];this.__showStartPageOnStartPage?0===this.__elementSubContainer.children.length&&this.__showStartPage():startPageContainer&&this.__elementSubContainer.removeChild(startPageContainer)}setStartPage(valueNew){let convertedValue=TcHmi.ValueConverter.toString(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("StartPage")),convertedValue!==this.__startPage&&(this.__startPage=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"StartPage"}),this.__processStartPage())}getStartPage(){return this.__startPage}__processStartPage(){this.__attributesInitialized}setStartPageText(valueNew){let convertedValue=TcHmi.ValueConverter.toString(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("StartPageText")),convertedValue!==this.__startPageText&&(this.__startPageText=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"StartPageText"}),this.__processStartPageText())}getStartPageText(){return this.__startPageText}__processStartPageText(){if(!this.__attributesInitialized)return;let startPageText=this.__elementPathDisplayContainer?.[0].getElementsByClassName("tchmi-bread-crumb-control-start-page-text")[0];if(startPageText)startPageText.textContent=this.__startPageText??"";else{let startPageContainer=this.__elementPathDisplayContainer?.[0].getElementsByClassName("tchmi-bread-crumb-control-start-page")[0];if(this.__startPageText&&startPageContainer){let startTextElement=document.createElement("a");startTextElement.textContent=this.__startPageText,startTextElement.classList.add("tchmi-bread-crumb-control-start-page-text"),this.__startPageImagePath&&(startTextElement.style.marginLeft="5px"),startPageContainer.insertBefore(startTextElement,startPageContainer.lastChild)}}}setStartPageImage(valueNew){let convertedValue=TcHmi.ValueConverter.toString(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("StartPageImage")),convertedValue!==this.__startPageImagePath&&(this.__startPageImagePath=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"StartPageImage"}),this.__processStartPageImage())}getStartPageImage(){return this.__startPageImagePath}__processStartPageImage(){if(this.__attributesInitialized&&this.__startPageVisible){let startPageContainer=this.__elementPathDisplayContainer?.[0].getElementsByClassName("tchmi-bread-crumb-control-start-page")[0],existingStartPageImage=startPageContainer?.getElementsByClassName("tchmi-bread-crumb-control-image")[0];if(existingStartPageImage)this.__startPageImagePath?existingStartPageImage.style.backgroundImage="url("+this.__startPageImagePath+")":this.__showDefaultStartPage?existingStartPageImage.style.backgroundImage="":existingStartPageImage.remove();else{if(!startPageContainer)return;if(this.__startPageImagePath){let startPageImage=document.createElement("i");startPageImage.classList.add("tchmi-bread-crumb-control-image"),startPageImage.style.backgroundImage="url("+this.__startPageImagePath+")",startPageContainer.childNodes.length>0?startPageContainer.insertBefore(startPageImage,startPageContainer.childNodes[0]):startPageContainer.append(startPageImage)}else if(this.__showDefaultStartPage){let startPageImage=document.createElement("i");startPageImage.classList.add("tchmi-bread-crumb-control-image"),startPageContainer.childNodes.length>0?startPageContainer.insertBefore(startPageImage,startPageContainer.childNodes[0]):startPageContainer.append(startPageImage)}}}}setShowDefaultStartPage(valueNew){let convertedValue=TcHmi.ValueConverter.toBoolean(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("ShowDefaultStartPage")),convertedValue!==this.__showDefaultStartPage&&(this.__showDefaultStartPage=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ShowDefaultStartPage"}),this.__processShowDefaultStartPage())}getShowDefaultStartPage(){return this.__showDefaultStartPage}__processShowDefaultStartPage(){if(this.__attributesInitialized&&this.__startPageVisible&&!this.__startPageImagePath){let startPageContainer=this.__elementPathDisplayContainer?.[0].getElementsByClassName("tchmi-bread-crumb-control-start-page")[0],existingStartPageImage=startPageContainer?.getElementsByClassName("tchmi-bread-crumb-control-image")[0];if(existingStartPageImage)this.__showDefaultStartPage||existingStartPageImage.remove();else if(this.__showDefaultStartPage&&startPageContainer){let startPageImage=document.createElement("i");startPageImage.classList.add("tchmi-bread-crumb-control-image"),startPageContainer.childNodes.length>0?startPageContainer.insertBefore(startPageImage,startPageContainer.childNodes[0]):startPageContainer.append(startPageImage)}}}setSpacerImage(valueNew){let convertedValue=TcHmi.ValueConverter.toString(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("SpacerImage")),convertedValue!==this.__spacerImage&&(this.__spacerImage=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"SpacerImage"}),this.__processSpacerImage())}getSpacerImage(){return this.__spacerImage}__processSpacerImage(){if(!this.__attributesInitialized)return;let arrows=this.__elementPathDisplayContainer?.[0].getElementsByClassName("tchmi-bread-crumb-control-right-arrow");if(arrows)for(let i=0;i<arrows.length;i++){let arrow=arrows[i];this.__spacerImage?arrow.style.backgroundImage="url("+this.__spacerImage+")":arrow.style.backgroundImage=""}}setFontSize(valueNew){let convertedValue=TcHmi.ValueConverter.toNumber(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("FontSize")),convertedValue!==this.__fontSize&&(this.__fontSize=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"FontSize"}),this.__processFontSize())}getFontSize(){return this.__fontSize}__processFontSize(){if(!this.__elementPathDisplayContainer||void 0===this.__fontSize||null===this.__fontSize||void 0===this.__fontSizeUnit||null===this.__fontSizeUnit)return;let fontSize=this.__fontSize+this.__fontSizeUnit;this.__elementPathDisplayContainer[0].querySelectorAll(".tchmi-bread-crumb-control-nav-link").forEach((element=>{element.style.fontSize=fontSize}))}setTextVerticalAlignment(valueNew){let convertedValue=TcHmi.ValueConverter.toVerticalAlignment(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("TextVerticalAlignment")),convertedValue!==this.__textVerticalAlignment&&(this.__textVerticalAlignment=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TextVerticalAlignment"}),this.__processTextVerticalAlignment())}getTextVerticalAlignment(){return this.__textVerticalAlignment}__processTextVerticalAlignment(){this.__attributesInitialized&&this.__setContainerAlignment(this.__elementSubContainer)}setFontSizeUnit(valueNew){let convertedValue=TcHmi.ValueConverter.toString(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("FontSizeUnit")),convertedValue!==this.__fontSizeUnit&&(this.__fontSizeUnit=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"FontSizeUnit"}),this.__processFontSizeUnit())}getFontSizeUnit(){return this.__fontSizeUnit}__processFontSizeUnit(){if(!this.__elementPathDisplayContainer||void 0===this.__fontSize||null===this.__fontSize||void 0===this.__fontSizeUnit||null===this.__fontSizeUnit)return;let fontSize=this.__fontSize+this.__fontSizeUnit;this.__elementPathDisplayContainer[0].querySelectorAll(".tchmi-bread-crumb-control-nav-link").forEach((element=>{element.style.fontSize=fontSize}))}setFontColor(valueNew){let convertedValue=TcHmi.ValueConverter.toObject(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("FontColor"));let resolverInfo=this.__objectResolvers.get("fontColor");resolverInfo&&(resolverInfo.watchDestroyer&&resolverInfo.watchDestroyer(),resolverInfo.resolver.destroy());let resolver=new TcHmi.Symbol.ObjectResolver(convertedValue,this);this.__objectResolvers.set("fontColor",{resolver:resolver,watchCallback:this.__onResolverForFontColorWatchCallback,watchDestroyer:resolver.watch(this.__onResolverForFontColorWatchCallback)})}getFontColor(){return this.__fontColor}__processFontColor(){this.__elementPathDisplayContainer&&TcHmi.StyleProvider.processTextColor(this.__elementPathDisplayContainer[0].getElementsByClassName("tchmi-bread-crumb-control-nav-link"),this.__fontColor)}setPath(valueNew){let convertedValue=TcHmi.ValueConverter.toObject(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("Path"));let resolverInfo=this.__objectResolvers.get("path");resolverInfo&&(resolverInfo.watchDestroyer&&resolverInfo.watchDestroyer(),resolverInfo.resolver.destroy());let resolver=new TcHmi.Symbol.ObjectResolver(convertedValue,this);this.__objectResolvers.set("path",{resolver:resolver,watchCallback:this.__onResolverForPathWatchCallback,watchDestroyer:resolver.watch(this.__onResolverForPathWatchCallback)})}getPath(){return this.__path}__processPath(){this.showPath(this.__path)}}_TcHmiBreadcrumb_tchmiFQN={value:"TcHmi.Controls.ResponsiveNavigation."+(_a=TcHmiBreadcrumb).name},ResponsiveNavigation.TcHmiBreadcrumb=TcHmiBreadcrumb}(Controls.ResponsiveNavigation||(Controls.ResponsiveNavigation={}))}(TcHmi.Controls||(TcHmi.Controls={}))}(TcHmi||(TcHmi={})),TcHmi.Controls.registerEx("TcHmiBreadcrumb","TcHmi.Controls.ResponsiveNavigation",TcHmi.Controls.ResponsiveNavigation.TcHmiBreadcrumb);